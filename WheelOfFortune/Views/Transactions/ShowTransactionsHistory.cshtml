

@{
    ViewBag.Title = "ShowTransactionHistory";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@Styles.Render("~/Content/TransactionsHistoryView.css")


<h2>ShowTransactionHistory</h2>

<div class="container" style="z-index:99999999!important;background-color:white!important;color:black;">
    <table id="transactions" class="table table-bordered table-hover">
        <thead>
            <tr>
                <th>Transaction Date</th>
                <th> Value</th>
                
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>
</div>



@{
    var user = ViewBag.UserId;
}


@section scripts {
    @Scripts.Render("~/bundles/TransactionHistoryView")
    <script type="text/javascript">
        $(function () {

            var userId = "@user";

            $(document).ready(function () {
                const table = $("#transactions").DataTable
                (
                    {

                        ajax:
                        {
                            url: "/api/Transaction/GetByUserId?userId=" + userId,
                            dataSrc: ""
                        },
                        columns: [
                            {
                                data: "TransactionDate"
                            },
                            {
                                data: "Value"
                            }
                        ]

                    });
            });
    </script>
}